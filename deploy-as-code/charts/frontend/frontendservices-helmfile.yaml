environments:
  uat:
    values:
      - ../environments/env-secrets.yaml
      - ../environments/env.yaml
---
templates:
  default: &default
    chart: ./{{`{{ .Release.Name }}`}}
    version: 0.1.0
    namespace: egov
    missingFileHandler: Warn

releases:
  - name: console
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "console" }}
      - {{ toYaml (index .Values "console") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: core-ui
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "core-ui" }}
      - {{ toYaml (index .Values "core-ui") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: dss-dashboard
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "dss-dashboard" }}
      - {{ toYaml (index .Values "dss-dashboard") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: microplan-ui
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "microplan-ui" }}
      - {{ toYaml (index .Values "microplan-ui") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: payments-ui
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "payments-ui" }}
      - {{ toYaml (index .Values "payments-ui") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: workbench-ui
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "workbench-ui" }}
      - {{ toYaml (index .Values "workbench-ui") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}