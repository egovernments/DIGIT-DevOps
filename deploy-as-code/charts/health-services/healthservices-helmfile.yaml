environments:
  uat:
    values:
      - ../environments/env-secrets.yaml
      - ../environments/env.yaml
---
templates:
  default: &default
    chart: ./{{`{{ .Release.Name }}`}}
    version: 0.1.0
    namespace: egov
    missingFileHandler: Warn

releases:
  - name: census-service
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "census-service" }}
      - {{ toYaml (index .Values "census-service") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: facility
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "facility" }}
      - {{ toYaml (index .Values "facility") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: health-attendance
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "health-attendance" }}
      - {{ toYaml (index .Values "health-attendance") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: health-expense
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "health-expense" }}
      - {{ toYaml (index .Values "health-expense") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: health-expense-calculator
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "health-expense-calculator" }}
      - {{ toYaml (index .Values "health-expense-calculator") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: health-muster-roll
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "health-muster-roll" }}
      - {{ toYaml (index .Values "health-muster-roll") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: household
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "household" }}
      - {{ toYaml (index .Values "household") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: individual
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "individual" }}
      - {{ toYaml (index .Values "individual") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: plan-service
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "plan-service" }}
      - {{ toYaml (index .Values "plan-service") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: product
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "product" }}
      - {{ toYaml (index .Values "product") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: project
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "project" }}
      - {{ toYaml (index .Values "project") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: project-factory
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "project-factory" }}
      - {{ toYaml (index .Values "project-factory") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: referralmanagement
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "referralmanagement" }}
      - {{ toYaml (index .Values "referralmanagement") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: resource-generator
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "resource-generator" }}
      - {{ toYaml (index .Values "resource-generator") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: stock
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "stock" }}
      - {{ toYaml (index .Values "stock") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}

  - name: transformer
    installed: true
    <<: *default
    values:
      {{- if hasKey .Values "transformer" }}
      - {{ toYaml (index .Values "transformer") | nindent 8 }}
      {{- end }}
      {{- if hasKey .Values "global" }}
      - global:
          {{ toYaml (index .Values "global") | nindent 10 }}
      {{- end }}
